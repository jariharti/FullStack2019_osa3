(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(38)},18:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(11),i=n.n(r),c=(n(18),n(2)),l=n(3),u=n.n(l),s="/api/persons",m=function(){return u.a.get(s).then(function(e){return e})},f=function(e){return u.a.post(s,e).then(function(e){return e})},d=function(e){return u.a.delete("".concat(s,"/").concat(e.id)).then(function(e){return e})},g=function(e){return e.persons.filter(function(t){return 0===t.name.toLowerCase().indexOf(e.limitVisibility.toLowerCase())}).map(function(t){return o.a.createElement("p",{key:t.name},"\xa0",t.name," ",t.number,o.a.createElement("input",{type:"button",name:t.name,value:"poista",onClick:e.deleteName}))})},h=function(e){return o.a.createElement("div",null,"\xa0rajaa n\xe4ytett\xe4vi\xe4 ",o.a.createElement("input",{type:"text",name:"rajaa n\xe4ytett\xe4vi\xe4",value:e.limitVisibility,onChange:e.handVisibilityChange}))},p=function(e){return o.a.createElement("form",{onSubmit:e.addName},o.a.createElement("div",null,"\xa0nimi: ",o.a.createElement("input",{value:e.new_name,onChange:e.handleNameChange}),o.a.createElement("br",null),"\xa0numero: ",o.a.createElement("input",{value:e.new_number,onChange:e.handleNumberChange})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},b=function(e){return null===e.message?null:o.a.createElement("div",{className:e.notificationMessageType},e.message)},v=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(""),l=Object(c.a)(i,2),u=l[0],s=l[1],v=Object(a.useState)(""),w=Object(c.a)(v,2),E=w[0],y=w[1],O=Object(a.useState)(""),j=Object(c.a)(O,2),N=j[0],C=j[1],k=Object(a.useState)(),S=Object(c.a)(k,2),T=S[0],V=S[1],J=Object(a.useState)(),_=Object(c.a)(J,2),x=_[0],L=_[1];Object(a.useEffect)(function(){console.log("getAll"),m().then(function(e){console.log("getall operation succeeded",e),r(e.data),V("Phonebook information received successfully"),L("success"),setTimeout(function(){V(null)},5e3)}).catch(function(e){V("Oops.. Something went wrong when application tried to read phonebook data from the server"),L("error"),setTimeout(function(){V(null),L("error")},5e3)})},[]);return o.a.createElement("div",null,o.a.createElement("h1",null,"\xa0Puhelinluettelo"),o.a.createElement(b,{message:T,notificationMessageType:x}),o.a.createElement(h,{limitVisibility:N,handVisibilityChange:function(e){C(e.target.value)}}),o.a.createElement("h2",null,"\xa0Lis\xe4\xe4 uusi"),o.a.createElement(p,{addName:function(e){console.log("addName"),e.preventDefault();var t={name:u,number:E};console.log("nameObject",t),f(t).then(function(e){console.log("received response from create operation",e),r(e.data),V("".concat(u,"'s data added succesfully to phonebook")),L("success"),setTimeout(function(){V(null),L("success")},5e3)}).catch(function(e){V(JSON.stringify(e.response.data)),L("error"),setTimeout(function(){V(null),L("error")},5e3)}),s(""),y("")},new_name:u,handleNameChange:function(e){s(e.target.value)},new_number:E,handleNumberChange:function(e){y(e.target.value)}}),o.a.createElement("h2",null,"\xa0Numerot"),o.a.createElement(g,{persons:n,limitVisibility:N,deleteName:function(e){if(console.log("delete name"),window.confirm("Poistetaanko ".concat(e.target.name))){var t=n.filter(function(t){return t.name!==e.target.name}),a=n.filter(function(t){return t.name===e.target.name})[0],o=e.target.name;console.log("event.target.name",e.target.name),d(a).then(function(e){console.log("delete operation ...",e),204===e.status&&(console.log("delete operation succeeded",e),console.log("response ==== 204 => persons left...",t),r(t),V("".concat(o,"'s data removed succesfully from phonebook")),L("success"),setTimeout(function(){V(null),L("success")},5e3))}).catch(function(e){console.log("error 2 situation",e.response.data),V(JSON.stringify(e.response.data)),L("error"),r(t.filter(function(e){return e.id!==a.id})),setTimeout(function(){V(null),L("error")},5e3)})}}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[12,1,2]]]);
//# sourceMappingURL=main.e81bb4e5.chunk.js.map